---
import Base from "../layouts/Base.astro";
import TopParticlesBackground from "../components/Home/ParticlesBackground.astro";
import LetterText from "../components/Home/LetterText.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import { getCollection } from "astro:content";
import News from "../components/Home/News.astro";
import AboutUs from "../components/Home/AboutUs.tsx";
import Service from "../components/Home/Service.tsx";
import Clients from "../components/Home/Clients.astro";

const news = (await getCollection("news"))
  .sort((a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf())
  .slice(0, 3);
---

<Base title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <div class="hidden"><TopParticlesBackground /></div>
  <div class="h-screen">
    <div class="absolute bottom-36 left-0 right-0 w-full px-2 lg:bottom-16">
      <LetterText />
    </div>
  </div>

  <main class="z-20 bg-white bg-opacity-80">
    <div class="md:mx-32 xl:mx-64 2xl:mx-96">
      <section class="py-10">
        <News />
      </section>
      <section class="py-10">
        <AboutUs client:load />
      </section>
      <section class="py-10">
        <Service client:load />
      </section>
      <section class="py-10">
        <Clients />
      </section>
    </div>
  </main>
</Base>
