---
const news = (await Astro.glob('../../pages/news/*.{md,mdx}')).sort(
	(a, b) => new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf()
);
const topThreeNews = news.slice(0, 3)
---

<h2 class="py-10 text-4xl font-bold">ニュース</h2>
<div class="grid h-auto grid-cols-1 content-center px-4 lg:grid-cols-3">
    {topThreeNews.map((e, i) => (
        <a href={e.url}>
            <div
                key={i}
                class="lg:px-18 mx-6 my-3 grid grid-cols-1 grid-rows-5 place-items-center content-center overflow-hidden rounded-lg bg-gray-100 py-3 shadow-lg lg:mx-12 lg:h-80"
            >
                <div class="row-span-3 relative mx-auto w-54 xl:w-full px-4 xl:px-12">
                    <img class="aspect-video h-full w-full object-cover rounded-lg" src={e.frontmatter.image} alt={e.frontmatter.title} fit="fill" />
                </div>
                <div class="row-span-2 px-6 py-4">
                    <div class="mb-2 text-xl font-bold">{e.frontmatter.title}</div>
                    <time class="text-base text-gray-700">{e.frontmatter.date}</time>
                </div>
            </div>
        </a>
    ))}
</div>
<div class="mx-auto grid py-10 text-center font-bold">
    <a href="/news">ニュース一覧</a>
</div>